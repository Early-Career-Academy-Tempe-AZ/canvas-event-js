Extendiendo canvas-event
========================

Si se encuentra creando varias veces las misma figuras o quiere hacer uso de
eventos en objetos diferentes a las predefinidas, puede extender canvas-event.

Para agregar una nueva figura se debe extender uno de los objetos predefinidos:
``Circle, Rect, Line, Path, Image, Arc`` o ``Shape`` y sobreescribir los métodos
init y draw.

.. code-block:: javascript

    var Tetro = Cevent.Shape.extend({
        init: function(x, y, scale) {
            this.scale = scale;
            // llamar método padre con argumentos apropiados
            this._super(x, y);
        },

        draw: function(ctx){
            // para acortar las expresiones
            var s = this.scale;

            ctx.save(); // guardar estado actual del canvas
            this.applyStyle(ctx); // aplicar estilo
            this.setTransform( ctx ); // aplicar transformaciones


            // dibujar tetrominó según escala
            Cevent.setContext(ctx)
            .M(this.x, this.y)
            .h(3 * s).v(-s).h(-s).v(-s).h(-s).v(s).h(-s).z();

            // rellenar y/o delinear figura
            this.fill_or_stroke();

            // restaurar estado anterior del canvas
            ctx.restore();
        },
    });

    // registrar el objeto nuevo
    Cevent.register("car", Car);
    
**Nota:** se debe llamar el método init del objeto padre (mediante _super) con
los argumentos apropiados para heredar.
